artifacts:
  - path: compiled/taxa.jsonl
    type: jsonl
    must_exist: true
    min_lines: 1
    validators:
      - kind: field_presence
        fields: ["id", "rank", "display_name", "latin_name"]
      - kind: unique
        field: "id"
      - kind: parent_exists
        id_field: "id"
        parent_field: "parent"
  
  - path: compiled/docs.jsonl
    type: jsonl
    must_exist: true
    validators: []
  
  - path: compiled/parts.json
    type: json
    must_exist: true
    validators:
      - kind: array_of_objects
      - kind: set_nonempty
      - kind: no_duplicates
        field: "id"
      - kind: schema_enum_compliance
        field: "kind"
        allowed_values: ["plant", "animal", "fungus", "derived"]
      - kind: hierarchy_consistency
        parent_field: "parent_id"
        child_field: "id"
  
  - path: compiled/attributes.json
    type: json
    must_exist: true
    validators:
      - kind: array_of_objects
  
  - path: compiled/nutrients.json
    type: json
    must_exist: true
    validators:
      - kind: array_of_objects
